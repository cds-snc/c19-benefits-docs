# config.yml

backend:
  name: git-gateway
  branch: master # Branch to update (optional; defaults to master)
media_folder: "assets/img"
collections:
  - name: "docEn"
    label: "Documentation - EN"
    folder: "pages/_en"
    sort: "title:asc"
    create: true
    fields:
      - {label: "Layout", name: "layout", widget: "hidden", default: "page"}
      - {label: "Title", name: "title", widget: "string", tagname: "h1", required: true}
      - {label: "Lang", name: "lang", widget: "hidden", default: "en"}
      - {label: "Body", name: "body", widget: "markdown", required: true}
      - label: "French translation"
        hint: "If you have the translation done, select the post here. Otherwise, you can come back and select it later"
        name: "trans_url"
        widget: "relation"
        collection: "docFr"
        searchFields: ["title"]
        valueField: "title"
        displayFields: ["title"]
        required: false
      - label: "Select parent page"
        hint: "If this is a subpage of another section, please choose which page it falls under"
        name: "parentPage"
        widget: "relation"
        collection: "docEn"
        searchFields: ["title"]
        valueField: "title"
        displayFields: ["title"]
        required: false
  - name: "docFr"
    label: "Documentation - FR"
    folder: "pages/_fr"
    sort: "title:asc"
    create: true
    fields:
      - {label: "Layout", name: "layout", widget: "hidden", default: "page"}
      - {label: "Titre", name: "title", widget: "string", tagname: "h1", required: true}
      - {label: "Lang", name: "lang", widget: "hidden", default: "fr"}
      - {label: "Corps du texte", name: "body", widget: "markdown", required: true}
      - label: "Traduction en anglais"
        hint: "If you have the translation done, select the post here. Otherwise, you can come back and select it later"
        name: "trans_url"
        widget: "relation"
        collection: "docEn"
        searchFields: ["title"]
        valueField: "title"
        displayFields: ["title"]
        required: false
      - label: "Select parent page"
        hint: "If this is a subpage of another section, please choose which page it falls under"
        name: "parentPage"
        widget: "relation"
        collection: "docFr"
        searchFields: ["title"]
        valueField: "title"
        displayFields: ["title"]
        required: false
  - name: "menuOrder"
    create: false
    label: "Menu Order"
    folder: "pages/_menu"
    fields:
      - {label: "Title", name: "title", widget: "string", tagname: "h1", required: true}
      - label: "Menu Items"
        name: "menuItems"
        widget: "list"
        fields: 
          - name: "menuItem"
            label: "menu item"
            widget: "relation"
            collection: "docEn"
            searchFields: ["title", "trans_url"]
            valueField: "title"
            displayFields: ["title", "trans_url"]


